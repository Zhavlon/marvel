{"version":3,"sources":["components/appHeader/AppHeader.js","components/loader/loader.js","resources/img/error.gif","components/errorMessage/errorMessage.js","services/MarvelService.js","resources/img/mjolnir.png","components/randomChar/RandomChar.js","components/charList/CharList.js","components/skeleton/Skeleton.js","components/charInfo/CharInfo.js","components/errorBoundary/errorBoundary.js","resources/img/vision.png","components/app/App.js","index.js"],"names":["AppHeader","className","href","Loader","ErrorMessage","style","display","margin","height","objectFit","src","img","alt","MarvelService","_apiBase","_apiKey","_baseOffset","getResource","url","a","fetch","res","ok","Error","status","json","getAllCharacters","offset","data","results","map","_transformCharacter","getCharacter","id","name","description","slice","thumbnail","path","extension","homepage","urls","wiki","comics","items","RandomChar","state","char","loading","error","marvelService","onCharLoaded","setState","onError","onCharLoading","updateChar","Math","floor","random","then","catch","this","clearInterval","timerId","errorMessage","loader","content","onClick","mjolnir","Component","View","CharList","charList","newCharListLoading","charEnded","scrollItemsLoad","page","document","documentElement","clientHeight","scrollTop","scrollHeight","onRequest","onCharListLoaded","newCharList","ended","length","itemRefs","setRef","ref","push","refFocus","i","forEach","item","classList","remove","add","focus","renderItems","arr","tabIndex","props","onCharSelected","console","log","window","addEventListener","removeEventListener","disabled","Skeleton","CharInfo","charId","prevProps","prevState","skeleton","ErrorBoundary","errorInfo","children","App","selectedChar","decoration","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.da286970.chunk.js","sourcesContent":["import './appHeader.scss';\n\nconst AppHeader = () => {\n    return (\n        <header className=\"app__header\">\n            <h1 className=\"app__title\">\n                <a href=\"#\">\n                    <span>Marvel</span> information portal\n                </a>\n            </h1>\n            <nav className=\"app__menu\">\n                <ul>\n                    <li><a href=\"#\">Characters</a></li>\n                    /\n                    <li><a href=\"#\">Comics</a></li>\n                </ul>\n            </nav>\n        </header>\n    )\n}\n\nexport default AppHeader;","import React from 'react';\n\nimport './loader.scss'\n\nconst Loader = () => {\n\treturn <div className=\"lds-dual-ring\"></div>;\n};\n\nexport default Loader;","export default __webpack_public_path__ + \"static/media/error.42292aa1.gif\";","import React from 'react';\nimport img from '../../resources/img/error.gif'\n\nconst ErrorMessage = () => {\n\treturn <img\n\t\tstyle={{display: 'block', margin: '0 auto', height: '250px', objectFit: 'contain'}}\n\t\tsrc={img}\n\t\talt=\"error image\"\n\t/>;\n};\n\nexport default ErrorMessage;","class MarvelService {\n\t_apiBase = 'https://gateway.marvel.com:443/v1/public/'\n\t_apiKey = 'apikey=fb532fff92184ba4eac9f9a871e66ed5'\n\t_baseOffset = 250\n\n\tgetResource = async (url) => {\n\t\tconst res = await fetch(url)\n\n\t\tif (!res.ok) {\n\t\t\tthrow new Error(`Couldn't fetch ${url}, status: ${res.status}`)\n\t\t}\n\n\t\treturn await res.json()\n\t}\n\n\tgetAllCharacters = async (offset = this._baseOffset) => {\n\t\tconst res = await this.getResource(`${this._apiBase}characters?limit=9&offset=${offset}&${this._apiKey}`)\n\t\treturn res.data.results.map(this._transformCharacter)\n\t}\n\n\tgetCharacter = async (id) => {\n\t\tconst res = await this.getResource(`${this._apiBase}characters/${id}?${this._apiKey}`)\n\t\treturn this._transformCharacter(res.data.results[0])\n\t}\n\n\t_transformCharacter = (res) => {\n\t\treturn {\n\t\t\tid: res.id,\n\t\t\tname: res.name,\n\t\t\tdescription: res.description ? `${res.description.slice(0, 200)}...` : 'This character has no description :)',\n\t\t\tthumbnail: res.thumbnail.path + '.' + res.thumbnail.extension,\n\t\t\thomepage: res.urls[0].url,\n\t\t\twiki: res.urls[1].url,\n\t\t\tcomics: res.comics.items\n\t\t}\n\t}\n}\n\nexport default MarvelService","export default __webpack_public_path__ + \"static/media/mjolnir.61f31e18.png\";","import {Component} from \"react\";\n\nimport Loader from \"../loader/loader\";\nimport ErrorMessage from \"../errorMessage/errorMessage\";\nimport MarvelService from \"../../services/MarvelService\";\n\nimport mjolnir from '../../resources/img/mjolnir.png';\nimport './randomChar.scss';\n\nclass RandomChar extends Component {\n\tstate = {\n\t\tchar: {},\n\t\tloading: true,\n\t\terror: false\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateChar()\n\t\t// this.timerId = setInterval(this.updateChar, 3000)\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval(this.timerId)\n\t}\n\n\tmarvelService = new MarvelService()\n\n\tonCharLoaded = (char) => {\n\t\tthis.setState({char, loading: false})\n\t}\n\n\tonError = () => {\n\t\tthis.setState({error: true, loading: false})\n\t}\n\n\tonCharLoading = () => {\n\t\tthis.setState({loading: true})\n\t}\n\n\tupdateChar = () => {\n\t\tthis.onCharLoading()\n\t\tconst id = Math.floor(Math.random() * (1011400 - 1011000) + 1011000)\n\t\tthis.marvelService\n\t\t\t.getCharacter(id)\n\t\t\t.then(this.onCharLoaded)\n\t\t\t.catch(this.onError)\n\t}\n\n\trender() {\n\t\tconst {char, loading, error} = this.state\n\t\tconst errorMessage = error ? <ErrorMessage/> : null\n\t\tconst loader = loading ? <Loader/> : null\n\t\tconst content = !(loading || error) ? <View char={char}/> : null\n\n\t\treturn (\n\t\t\t<div className=\"randomchar\">\n\n\t\t\t\t{errorMessage}\n\t\t\t\t{loader}\n\t\t\t\t{content}\n\n\t\t\t\t<div className=\"randomchar__static\">\n\t\t\t\t\t<p className=\"randomchar__title\">\n\t\t\t\t\t\tRandom character for today!<br/>\n\t\t\t\t\t\tDo you want to get to know him better?\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"randomchar__title\">\n\t\t\t\t\t\tOr choose another one\n\t\t\t\t\t</p>\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={this.updateChar}\n\t\t\t\t\t\tclassName=\"button button__main\">\n\t\t\t\t\t\t<div className=\"inner\">try it</div>\n\t\t\t\t\t</button>\n\t\t\t\t\t<img src={mjolnir} alt=\"mjolnir\" className=\"randomchar__decoration\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst View = ({char: {thumbnail, name, description, homepage, wiki}}) => {\n\tconst objectFit = thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg' ? 'contain' : 'cover'\n\n\treturn (\n\t\t<div className=\"randomchar__block\">\n\t\t\t<img src={thumbnail} alt=\"Random character\" style={{objectFit}} className=\"randomchar__img\"/>\n\t\t\t<div className=\"randomchar__info\">\n\t\t\t\t<p className=\"randomchar__name\">{name}</p>\n\t\t\t\t<p className=\"randomchar__descr\">{description}</p>\n\t\t\t\t<div className=\"randomchar__btns\">\n\t\t\t\t\t<a href={homepage} className=\"button button__main\">\n\t\t\t\t\t\t<div className=\"inner\">homepage</div>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a href={wiki} className=\"button button__secondary\">\n\t\t\t\t\t\t<div className=\"inner\">Wiki</div>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default RandomChar;","import {Component} from \"react\";\nimport PropTypes from 'prop-types'\n\nimport MarvelService from \"../../services/MarvelService\";\nimport Loader from \"../loader/loader\";\nimport ErrorMessage from \"../errorMessage/errorMessage\";\n\nimport './charList.scss';\n\nclass CharList extends Component {\n\tstate = {\n\t\tcharList: [],\n\t\tloading: true,\n\t\terror: false,\n\t\tnewCharListLoading: false,\n\t\toffset: 250,\n\t\tcharEnded: false\n\t}\n\n\tmarvelService = new MarvelService()\n\n\tcomponentDidMount() {\n\t\tthis.onRequest()\n\t\twindow.addEventListener('scroll', this.scrollItemsLoad)\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('scroll', this.scrollItemsLoad)\n\t}\n\n\tscrollItemsLoad = () => {\n\t\tconst page = document.documentElement\n\t\tconst {offset} = this.state\n\n\t\tif (page.clientHeight + page.scrollTop >= page.scrollHeight) {\n\t\t\tthis.onRequest(offset)\n\t\t}\n\t}\n\n\tonRequest = (offset) => {\n\t\tthis.newCharListLoading()\n\t\tthis.marvelService.getAllCharacters(offset)\n\t\t\t.then(this.onCharListLoaded)\n\t\t\t.catch(this.onError)\n\t}\n\n\tonError = () => {\n\t\tthis.setState({\n\t\t\tloading: false,\n\t\t\terror: true\n\t\t})\n\t}\n\n\tonCharListLoaded = (newCharList) => {\n\t\tlet ended = false\n\t\tif (newCharList.length < 9) {\n\t\t\tended = true\n\t\t}\n\n\t\tthis.setState(({charList, offset}) => ({\n\t\t\tcharList: [...charList, ...newCharList],\n\t\t\tloading: false,\n\t\t\tnewCharListLoading: false,\n\t\t\toffset: offset + 9,\n\t\t\tcharEnded: ended\n\t\t}))\n\t}\n\n\tnewCharListLoading = () => {\n\t\tthis.setState({\n\t\t\tnewCharListLoading: true\n\t\t})\n\t}\n\n\n\titemRefs = []\n\n\tsetRef = ref => {\n\t\tthis.itemRefs.push(ref)\n\t}\n\n\trefFocus = (i) => {\n\t\tthis.itemRefs.forEach(item => {\n\t\t\titem.classList.remove('char__item_selected')\n\t\t})\n\n\t\tthis.itemRefs[i].classList.add('char__item_selected')\n\t\tthis.itemRefs[i].focus()\n\t}\n\n\trenderItems = (arr) => {\n\t\tconst items = arr.map(({thumbnail, name, id}, i) => {\n\n\t\t\tconst objectFit = thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg' ? 'contain' : 'cover'\n\n\t\t\treturn (\n\t\t\t\t<li\n\n\t\t\t\t\ttabIndex={0}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.props.onCharSelected(id)\n\t\t\t\t\t\tthis.refFocus(i)\n\t\t\t\t\t}}\n\t\t\t\t\tref={this.setRef}\n\t\t\t\t\tkey={id}\n\t\t\t\t\tclassName=\"char__item\">\n\t\t\t\t\t<img src={thumbnail} style={{objectFit}} alt=\"abyss\"/>\n\t\t\t\t\t<div className=\"char__name\">{name}</div>\n\t\t\t\t</li>\n\t\t\t)\n\t\t})\n\n\t\tconsole.log(this.itemRefs)\n\n\t\treturn (\n\t\t\t<ul className=\"char__grid\">\n\t\t\t\t{items}\n\t\t\t</ul>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst {charList, loading, error, newCharListLoading, offset, charEnded} = this.state\n\n\t\tconst items = this.renderItems(charList)\n\n\t\tconst loader = loading ? <Loader/> : null\n\t\tconst errorMessage = error ? <ErrorMessage/> : null\n\t\tconst content = !(loading || error) ? items : null\n\n\t\treturn (\n\t\t\t<div className=\"char__list\">\n\t\t\t\t{errorMessage}\n\t\t\t\t{loader}\n\t\t\t\t{content}\n\t\t\t\t<button\n\t\t\t\t\tstyle={{display: charEnded ? 'none' : 'block'}}\n\t\t\t\t\tonClick={() => this.onRequest(offset)}\n\t\t\t\t\tdisabled={newCharListLoading}\n\t\t\t\t\tclassName=\"button button__main button__long\"\n\t\t\t\t>\n\t\t\t\t\t<div className=\"inner\">load more</div>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nCharList.propTypes = {\n\tonCharSelected: PropTypes.func\n}\n\nexport default CharList;","import './skeleton.scss';\n\nconst Skeleton = () => {\n    return (\n        <>\n            <p className=\"char__select\">Please select a character to see information</p>\n            <div className=\"skeleton\">\n                <div className=\"pulse skeleton__header\">\n                    <div className=\"pulse skeleton__circle\"></div>\n                    <div className=\"pulse skeleton__mini\"></div>\n                </div>\n                <div className=\"pulse skeleton__block\"></div>\n                <div className=\"pulse skeleton__block\"></div>\n                <div className=\"pulse skeleton__block\"></div>\n            </div>\n        </>\n    )\n}\n\nexport default Skeleton;","import {Component} from \"react\";\n\nimport MarvelService from \"../../services/MarvelService\";\nimport ErrorMessage from \"../errorMessage/errorMessage\";\nimport Loader from \"../loader/loader\";\nimport Skeleton from \"../skeleton/Skeleton\";\n\nimport './charInfo.scss';\n\nclass CharInfo extends Component {\n\tstate = {\n\t\tchar: null,\n\t\tloading: false,\n\t\terror: false\n\t}\n\n\tmarvelService = new MarvelService()\n\n\tonCharLoading = () => {\n\t\tthis.setState({loading: true})\n\t}\n\n\tonCharLoaded = (char) => {\n\t\tthis.setState({\n\t\t\tchar,\n\t\t\tloading: false\n\t\t})\n\t}\n\n\tonError = () => {\n\t\tthis.setState({error: true})\n\t}\n\n\tupdateChar = () => {\n\t\tif (!this.props.charId) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.onCharLoading()\n\t\tthis.marvelService.getCharacter(this.props.charId)\n\t\t\t.then(this.onCharLoaded)\n\t\t\t.catch(this.onError)\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateChar()\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (this.props.charId !== prevProps.charId) {\n\t\t\tthis.updateChar()\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {char, loading, error} = this.state\n\n\t\tconst skeleton = char || loading || error ? null : <Skeleton/>\n\t\tconst errorMessage = error ? <ErrorMessage/> : null\n\t\tconst loader = loading ? <Loader/> : null\n\t\tconst content = !(loading || error) && char ? <View char={char}/> : null\n\n\t\treturn (\n\t\t\t<div className=\"char__info\">\n\t\t\t\t{skeleton}\n\t\t\t\t{errorMessage}\n\t\t\t\t{loader}\n\t\t\t\t{content}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst View = ({char: {name, thumbnail, homepage, description, wiki, comics}}) => {\n\n\tconst objectFit = thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg' ? 'contain' : 'cover'\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"char__basics\">\n\t\t\t\t<img src={thumbnail} alt={name} style={{objectFit}}/>\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"char__info-name\">thor</div>\n\t\t\t\t\t<div className=\"char__btns\">\n\t\t\t\t\t\t<a href={homepage} className=\"button button__main\">\n\t\t\t\t\t\t\t<div className=\"inner\">homepage</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a href={wiki} className=\"button button__secondary\">\n\t\t\t\t\t\t\t<div className=\"inner\">Wiki</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"char__descr\">{description}</div>\n\t\t\t<div className=\"char__comics\">Comics:</div>\n\t\t\t<ul className=\"char__comics-list\">\n\t\t\t\t{comics.length > 0 ? null : \"There's no comics there\"}\n\t\t\t\t{\n\t\t\t\t\tcomics.map(({name}, i) => {\n\t\t\t\t\t\tif (i > 9) return;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\tclassName=\"char__comics-item\">\n\t\t\t\t\t\t\t\t{name}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</ul>\n\t\t</>\n\t)\n}\n\nexport default CharInfo;","import React, {Component} from 'react';\nimport ErrorMessage from \"../errorMessage/errorMessage\";\n\nclass ErrorBoundary extends Component {\n\tstate = {\n\t\terror: false\n\t}\n\n\tcomponentDidCatch(error, errorInfo) {\n\t\tconsole.log(error)\n\t\tconsole.log(errorInfo)\n\t\tthis.setState({error: true})\n\t}\n\n\trender() {\n\n\t\tif (this.state.error) {\n\t\t\treturn <ErrorMessage/>\n\t\t}\n\n\t\treturn this.props.children\n\t}\n}\n\nexport default ErrorBoundary;","export default __webpack_public_path__ + \"static/media/vision.067d4ae1.png\";","import {Component} from \"react\";\n\nimport AppHeader from \"../appHeader/AppHeader\";\nimport RandomChar from \"../randomChar/RandomChar\";\nimport CharList from \"../charList/CharList\";\nimport CharInfo from \"../charInfo/CharInfo\";\nimport ErrorBoundary from \"../errorBoundary/errorBoundary\";\n\nimport decoration from '../../resources/img/vision.png';\n\nclass App extends Component {\n\tstate = {\n\t\tselectedChar: null\n\t}\n\n\tonCharSelected = (id) => {\n\t\tthis.setState({selectedChar: id})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"app\">\n\t\t\t\t<AppHeader/>\n\t\t\t\t<main>\n\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t<RandomChar/>\n\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t<div className=\"char__content\">\n\t\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t\t<CharList onCharSelected={this.onCharSelected}/>\n\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t\t<CharInfo charId={this.state.selectedChar}/>\n\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t</div>\n\t\t\t\t\t<img className=\"bg-decoration\" src={decoration} alt=\"vision\"/>\n\t\t\t\t</main>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/App';\nimport './style/style.scss';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App/>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n"],"sourceRoot":""}